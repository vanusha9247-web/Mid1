<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Sai | Forever</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Montserrat:wght@200;400;600&display=swap" rel="stylesheet">
    <style>
        :root { --gold: #e2b04a; --bg: #05070a; }
        
        body {
            margin: 0; background: var(--bg); color: white;
            font-family: 'Montserrat', sans-serif; overflow: hidden;
            display: flex; align-items: center; justify-content: center; min-height: 100vh;
        }

        /* Animated Nebula & Stars */
        .nebula {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at 20% 30%, #1a1f3c 0%, transparent 40%),
                        radial-gradient(circle at 80% 70%, #2d1b36 0%, transparent 40%);
            z-index: -1; filter: blur(60px); opacity: 0.8;
        }

        .star-field { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }
        .star { position: absolute; background: white; border-radius: 50%; opacity: 0.5; animation: twinkle var(--d) infinite; }
        @keyframes twinkle { 0%, 100% { opacity: 0.3; } 50% { opacity: 1; } }

        .container { width: 90%; max-width: 450px; text-align: center; z-index: 10; }

        .glass-card {
            background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 40px; padding: 40px 20px; box-shadow: 0 20px 50px rgba(0,0,0,0.8);
        }

        h1 { font-family: 'Cinzel', serif; font-size: 2.5rem; letter-spacing: 6px; color: var(--gold); margin: 10px 0; text-shadow: 0 0 15px rgba(226, 176, 74, 0.5); }
        
        /* The Circular Timer */
        .timer-circle {
            width: 200px; height: 200px; margin: 30px auto;
            border: 1px solid rgba(226, 176, 74, 0.3); border-radius: 50%;
            display: flex; flex-direction: column; justify-content: center;
            position: relative; overflow: hidden;
        }

        .timer-progress {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            border: 3px solid var(--gold); border-radius: 50%;
            clip-path: polygon(50% 50%, -50% -50%, 150% -50%);
            filter: drop-shadow(0 0 10px var(--gold));
            transition: transform 1s linear;
        }

        .time-left { font-size: 3.5rem; font-weight: 200; display: block; }
        #ticker { font-size: 0.85rem; letter-spacing: 2px; height: 24px; margin-top: 20px; color: var(--gold); opacity: 0.8; transition: 0.5s; }

        .btn {
            background: linear-gradient(135deg, #e2b04a, #9c7a33); color: black; border: none;
            padding: 20px 45px; border-radius: 50px; font-weight: bold;
            font-size: 1rem; cursor: pointer; letter-spacing: 3px; transition: 0.4s;
            text-transform: uppercase; box-shadow: 0 10px 30px rgba(226, 176, 74, 0.3);
        }

        #timer-screen, #surprise-screen { display: none; }
        #glass-emoji { font-size: 5rem; display: inline-block; transition: 0.3s; cursor: pointer; }
    </style>
</head>
<body onclick="createPulse(event)">

    <div class="nebula"></div>
    <div class="star-field" id="stars"></div>
    <audio id="music" loop><source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" type="audio/mpeg"></audio>

    <div class="container" id="welcome-screen">
        <div class="glass-card">
            <p style="letter-spacing: 5px; opacity: 0.5; font-size: 0.7rem;">THE BEGINNING OF FOREVER</p>
            <h1>SAI</h1>
            <p style="margin: 25px 0; line-height: 1.8; opacity: 0.8; font-weight: 200;">Your birthday surprise is synchronizing...<br>Are you ready, my King?</p>
            <button class="btn" onclick="startSurprise()">Enter the Magic âœ¨</button>
        </div>
    </div>

    <div class="container" id="timer-screen">
        <div class="glass-card">
            <div class="timer-circle">
                <div class="timer-progress" id="ring"></div>
                <span class="time-left" id="display">02:00</span>
                <span style="font-size: 0.6rem; letter-spacing: 4px; opacity: 0.5;">REMAINING</span>
            </div>
            <h1 style="font-size: 1.8rem;">SAI</h1>
            <div id="ticker">Thinking of you...</div>
        </div>
    </div>

    <div class="container" id="surprise-screen">
        <div class="glass-card" style="border: 2px solid var(--gold); background: rgba(0,0,0,0.5);">
            <p style="letter-spacing: 10px; color: var(--gold); font-weight: 600;">HAPPY BIRTHDAY</p>
            <h1 style="font-size: 3.5rem; margin: 10px 0;">SAI</h1>
            <p style="font-style: italic; line-height: 1.9; margin: 20px 0; font-weight: 200;">
                "Every heartbeat of mine carries a reason why I love you. Today, the world celebrates the man who makes my life a fairytale."
            </p>
            
            <div id="toast-section" onclick="clinkGlass()">
                <div id="glass-emoji">ðŸ¥‚</div>
                <p id="toast-text" style="font-size: 0.75rem; letter-spacing: 2px; color: var(--gold); margin-top: 10px;">TAP TO TOAST TO US</p>
            </div>
        </div>
    </div>

    <script>
        const reasons = [
            "Your infectious laugh...",
            "My safest place is in your arms.",
            "Your brilliant mind...",
            "The way you hold my hand...",
            "To my partner in every adventure.",
            "Your kind heart...",
            "My forever and my always.",
            "The king of my heart, Sai."
        ];
        
        let secondsLeft = 120; // Set to 120 for the full 2 mins
        let countdown;

        // Twinkling Stars Setup
        for(let i=0; i<60; i++) {
            const s = document.createElement('div');
            s.className = 'star';
            s.style.left = Math.random()*100+'vw';
            s.style.top = Math.random()*100+'vh';
            s.style.width = s.style.height = Math.random()*3+'px';
            s.style.setProperty('--d', (Math.random()*3+2)+'s');
            document.getElementById('stars').appendChild(s);
        }

        // Tap Pulse Effect
        function createPulse(e) {
            const p = document.createElement('div');
            p.style.position = 'fixed';
            p.style.left = e.clientX+'px'; p.style.top = e.clientY+'px';
            p.style.width = '10px'; p.style.height = '10px';
            p.style.background = 'var(--gold)'; p.style.borderRadius = '50%';
            p.style.filter = 'blur(8px)'; p.style.transition = '0.8s'; p.style.pointerEvents = 'none';
            document.body.appendChild(p);
            setTimeout(() => { p.style.transform = 'scale(15)'; p.style.opacity = '0'; }, 10);
            setTimeout(() => p.remove(), 800);
        }

        function startSurprise() {
            document.getElementById('welcome-screen').style.display = 'none';
            document.getElementById('timer-screen').style.display = 'block';
            
            // Unlock Audio Engine
            const m = document.getElementById('music');
            m.play().then(() => { m.pause(); m.currentTime = 0; });

            // Ticker Rotation
            let rIdx = 0;
            setInterval(() => {
                const t = document.getElementById('ticker');
                t.style.opacity = 0;
                setTimeout(() => {
                    t.innerText = reasons[rIdx];
                    t.style.opacity = 0.8;
                    rIdx = (rIdx + 1) % reasons.length;
                }, 500);
            }, 3000);

            // Countdown Logic
            countdown = setInterval(() => {
                secondsLeft--;
                const min = Math.floor(secondsLeft/60);
                const sec = secondsLeft%60;
                document.getElementById('display').innerText = `${min.toString().padStart(2, '0')}:${sec.toString().padStart(2, '0')}`;
                document.getElementById('ring').style.transform = `rotate(${360 * (secondsLeft/120)}deg)`;

                if(secondsLeft <= 0) {
                    clearInterval(countdown);
                    triggerReveal();
                }
            }, 1000);
        }

        function triggerReveal() {
            document.getElementById('timer-screen').style.display = 'none';
            document.getElementById('surprise-screen').style.display = 'block';
            document.getElementById('music').play();

            const end = Date.now() + 15000;
            (function frame() {
                confetti({ particleCount: 4, angle: 60, spread: 60, origin: { x: 0 }, colors: ['#e2b04a', '#ffffff'] });
                confetti({ particleCount: 4, angle: 120, spread: 60, origin: { x: 1 }, colors: ['#e2b04a', '#ffffff'] });
                if (Date.now() < end) requestAnimationFrame(frame);
            }());
        }

        function clinkGlass() {
            const g = document.getElementById('glass-emoji');
            g.style.transform = 'scale(1.4) rotate(15deg)';
            confetti({ particleCount: 40, spread: 60, origin: { y: 0.7 }, colors: ['#e2b04a'], shapes: ['star'] });
            document.getElementById('toast-text').innerText = "CHEERS TO YOU, MY LOVE! ðŸ¥‚";
            setTimeout(() => g.style.transform = 'scale(1) rotate(0deg)', 300);
        }
    </script>
</body>
</html>
