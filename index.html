<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Sai | 00:00</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Montserrat:wght@200;400;600&display=swap" rel="stylesheet">
    <style>
        :root { --accent: #e2b04a; --bg: #05070a; --glass: rgba(255, 255, 255, 0.05); }
        
        body {
            margin: 0; background: var(--bg); color: white;
            font-family: 'Montserrat', sans-serif; overflow-x: hidden;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            min-height: 100vh;
        }

        /* Mesmerizing Background */
        .nebula {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at 20% 30%, #1a1f3c 0%, transparent 40%),
                        radial-gradient(circle at 80% 70%, #2d1b36 0%, transparent 40%);
            z-index: -1; filter: blur(60px); opacity: 0.7;
        }

        .container { width: 90%; max-width: 450px; text-align: center; z-index: 10; }

        /* Glass Card Style */
        .glass-card {
            background: var(--glass); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.1); border-radius: 30px;
            padding: 30px; box-shadow: 0 8px 32px rgba(0,0,0,0.5);
        }

        /* Countdown Circle */
        .circle-wrap {
            position: relative; width: 200px; height: 200px; margin: 30px auto;
            display: flex; flex-direction: column; justify-content: center;
            border: 2px solid var(--accent); border-radius: 50%;
            box-shadow: 0 0 30px rgba(226, 176, 74, 0.2);
        }

        h1 { font-family: 'Cinzel', serif; font-size: 2.2rem; color: var(--accent); margin: 10px 0; }
        
        .btn-start {
            background: var(--accent); color: black; border: none;
            padding: 20px 40px; border-radius: 50px; font-weight: bold;
            font-size: 1.1rem; cursor: pointer; letter-spacing: 2px;
            box-shadow: 0 0 20px var(--accent); transition: 0.3s;
        }

        #surprise-view, #timer-active { display: none; }
    </style>
</head>
<body>

    <div class="nebula"></div>
    <audio id="bg-music" loop><source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" type="audio/mpeg"></audio>

    <div class="container" id="init-screen">
        <h1 style="font-size: 1.5rem;">READY FOR YOUR GIFT?</h1>
        <p style="opacity: 0.7; margin-bottom: 30px;">Sai, tap the button below to sync your midnight surprise.</p>
        <button class="btn-start" onclick="unlockEverything()">SYNC MAGIC âœ¨</button>
    </div>

    <div class="container" id="timer-active">
        <p style="letter-spacing: 5px; opacity: 0.5;">COUNTDOWN TO 12:00</p>
        <div class="circle-wrap">
            <span id="mins" style="font-size: 3.5rem; font-weight: 200;">00</span>
            <span style="letter-spacing: 5px; font-size: 0.7rem;">MINS TO GO</span>
        </div>
        <h1>SAI</h1>
        <p style="font-style: italic; opacity: 0.6;">Keep this screen open...</p>
    </div>

    <div class="container" id="surprise-view">
        <div class="glass-card">
            <h1 style="font-size: 3rem;">HAPPY BIRTHDAY!</h1>
            <p style="letter-spacing: 5px; color: var(--accent);">MY KING, SAI</p>
            <hr style="border: 0; border-top: 1px solid rgba(255,255,255,0.1); margin: 20px 0;">
            <p>"You are my greatest adventure. I love you!"</p>
        </div>
        </div>

    <script>
        // --- CONFIGURATION: SET TO NEXT MIDNIGHT ---
        const bday = new Date();
        bday.setDate(bday.getDate() + 1);
        bday.setHours(0, 0, 0, 0);

        let audioUnlocked = false;

        function unlockEverything() {
            // 1. Switch Screen
            document.getElementById('init-screen').style.display = 'none';
            document.getElementById('timer-active').style.display = 'block';
            
            // 2. Unlock Audio (Essential for Mobile)
            const audio = document.getElementById('bg-music');
            audio.play().then(() => {
                audio.pause(); // Audio is now primed and ready for midnight
                audioUnlocked = true;
            }).catch(e => console.log("Audio waiting..."));

            // 3. Start Clock
            updateClock();
        }

        function updateClock() {
            const now = new Date();
            const diff = bday - now;

            if (diff <= 0) {
                revealSurprise();
                return;
            }

            const m = Math.floor(diff / 1000 / 60);
            const s = Math.floor((diff / 1000) % 60);
            
            // Display Mins and Secs
            document.getElementById('mins').innerText = m < 10 ? "0"+m : m;
            
            requestAnimationFrame(updateClock);
        }

        function revealSurprise() {
            document.getElementById('timer-active').style.display = 'none';
            const sv = document.getElementById('surprise-view');
            sv.style.display = 'block';
            
            // Start Music for real
            document.getElementById('bg-music').play();

            // Confetti Blast
            confetti({
                particleCount: 200,
                spread: 90,
                origin: { y: 0.6 },
                colors: ['#e2b04a', '#ffffff', '#ff0000']
            });
        }
    </script>
</body>
</html>
