<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Sai | The Final Minute</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Montserrat:wght@200;400;600&display=swap" rel="stylesheet">
    <style>
        :root { --gold: #e2b04a; --bg: #030508; }
        
        body {
            margin: 0; background: var(--bg); color: white;
            font-family: 'Montserrat', sans-serif; overflow: hidden;
            display: flex; align-items: center; justify-content: center; min-height: 100vh;
        }

        /* The Nebula & Heartbeat Pulse */
        .nebula {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at 50% 50%, #1a1f3c 0%, #030508 100%);
            z-index: -1; animation: bgPulse 4s ease-in-out infinite;
        }

        @keyframes bgPulse {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.1); opacity: 1; }
        }

        .container { width: 90%; max-width: 450px; text-align: center; z-index: 10; }

        .glass-card {
            background: rgba(255, 255, 255, 0.02); backdrop-filter: blur(30px);
            -webkit-backdrop-filter: blur(30px); border: 1px solid rgba(255,215,0,0.1);
            border-radius: 40px; padding: 40px 20px; box-shadow: 0 0 60px rgba(0,0,0,0.9);
        }

        h1 { font-family: 'Cinzel', serif; font-size: 2.5rem; letter-spacing: 6px; color: var(--gold); margin: 10px 0; }
        
        /* THE HEARTBEAT TIMER */
        .timer-circle {
            width: 200px; height: 200px; margin: 30px auto;
            border-radius: 50%; display: flex; flex-direction: column; justify-content: center;
            position: relative; border: 1px solid rgba(226, 176, 74, 0.2);
            animation: heartbeat 1.5s ease-in-out infinite;
        }

        @keyframes heartbeat {
            0% { transform: scale(1); box-shadow: 0 0 10px rgba(226, 176, 74, 0.1); }
            15% { transform: scale(1.05); box-shadow: 0 0 30px rgba(226, 176, 74, 0.3); }
            30% { transform: scale(1); }
            45% { transform: scale(1.03); }
            100% { transform: scale(1); }
        }

        .time-left { font-size: 3.8rem; font-weight: 200; color: white; }

        /* TICKER MESSAGES */
        #ticker {
            font-size: 0.85rem; letter-spacing: 2px; height: 40px; margin-top: 25px;
            color: var(--gold); font-weight: 300; line-height: 1.4;
            transition: 0.8s ease-in-out; text-transform: uppercase;
        }

        .btn {
            background: linear-gradient(135deg, #e2b04a, #9c7a33); color: black; border: none;
            padding: 20px 45px; border-radius: 50px; font-weight: bold;
            font-size: 1rem; cursor: pointer; letter-spacing: 3px; transition: 0.4s;
        }

        #timer-screen, #surprise-screen { display: none; }
    </style>
</head>
<body>

    <div class="nebula"></div>
    <audio id="music" loop><source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" type="audio/mpeg"></audio>

    <div class="container" id="welcome-screen">
        <div class="glass-card">
            <p style="letter-spacing: 8px; opacity: 0.5; font-size: 0.6rem;">STATIONED IN MY HEART</p>
            <h1>SAI</h1>
            <p style="margin: 30px 0; line-height: 1.8; opacity: 0.8; font-weight: 200;">60 seconds left of your old chapter...<br>Are you ready for the new one?</p>
            <button class="btn" onclick="startSurprise()">YES, UNLOCK âœ¨</button>
        </div>
    </div>

    <div class="container" id="timer-screen">
        <div class="glass-card">
            <div class="timer-circle">
                <span class="time-left" id="display">01:00</span>
                <span style="font-size: 0.6rem; letter-spacing: 4px; opacity: 0.5;">HEARTBEATS LEFT</span>
            </div>
            <h1 style="font-size: 1.8rem; letter-spacing: 8px;">SAI</h1>
            <div id="ticker">Synchronizing my world with yours...</div>
        </div>
    </div>

    <div class="container" id="surprise-screen">
        <div class="glass-card" style="border: 2px solid var(--gold); box-shadow: 0 0 80px rgba(226, 176, 74, 0.4);">
            <p style="letter-spacing: 12px; color: var(--gold); font-weight: 600;">HAPPY BIRTHDAY</p>
            <h1 style="font-size: 3.5rem; margin: 10px 0;">SAI</h1>
            <p style="font-style: italic; line-height: 2; margin: 25px 0; font-weight: 200; font-size: 1.1rem;">
                "You aren't just the man of my dreams; you are the soul of my reality. Every beat of my heart belongs to you, today and forever."
            </p>
            <div onclick="clinkGlass()" style="cursor: pointer;">
                <div id="glass-emoji" style="font-size: 5rem; transition: 0.3s;">ðŸ¥‚</div>
                <p id="toast-text" style="font-size: 0.7rem; letter-spacing: 3px; color: var(--gold);">CLINK TO OUR ETERNITY</p>
            </div>
        </div>
    </div>

    <script>
        const reasons = [
            "My soul recognized yours instantly.",
            "You are the anchor in every storm.",
            "Your love is my greatest strength.",
            "To the man who owns my every thought.",
            "You are my masterpiece, Sai.",
            "I choose you in every lifetime.",
            "Your kindness is my favorite melody.",
            "The king of my world is finally one year wiser.",
            "Every second with you is a miracle.",
            "I love you more than words can hold."
        ];
        
        let secondsLeft = 60; // 1 Minute
        let countdown;

        function startSurprise() {
            document.getElementById('welcome-screen').style.display = 'none';
            document.getElementById('timer-screen').style.display = 'block';
            
            const m = document.getElementById('music');
            m.play().then(() => { m.pause(); m.currentTime = 0; });

            // Ticker Logic (Every 4 seconds)
            let rIdx = 0;
            setInterval(() => {
                const t = document.getElementById('ticker');
                t.style.opacity = 0;
                t.style.transform = 'translateY(10px)';
                setTimeout(() => {
                    t.innerText = reasons[rIdx];
                    t.style.opacity = 0.8;
                    t.style.transform = 'translateY(0)';
                    rIdx = (rIdx + 1) % reasons.length;
                }, 800);
            }, 4000);

            // Countdown Logic
            countdown = setInterval(() => {
                secondsLeft--;
                document.getElementById('display').innerText = `00:${secondsLeft.toString().padStart(2, '0')}`;

                if(secondsLeft <= 0) {
                    clearInterval(countdown);
                    triggerReveal();
                }
            }, 1000);
        }

        function triggerReveal() {
            document.getElementById('timer-screen').style.display = 'none';
            document.getElementById('surprise-screen').style.display = 'block';
            document.getElementById('music').play();

            const end = Date.now() + 15000;
            (function frame() {
                confetti({ particleCount: 5, angle: 60, spread: 60, origin: { x: 0 }, colors: ['#e2b04a', '#ffffff'] });
                confetti({ particleCount: 5, angle: 120, spread: 60, origin: { x: 1 }, colors: ['#e2b04a', '#ffffff'] });
                if (Date.now() < end) requestAnimationFrame(frame);
            }());
        }

        function clinkGlass() {
            const g = document.getElementById('glass-emoji');
            g.style.transform = 'scale(1.4) rotate(15deg)';
            confetti({ particleCount: 50, spread: 70, origin: { y: 0.7 }, colors: ['#e2b04a'], shapes: ['star'] });
            document.getElementById('toast-text').innerText = "FOREVER WITH YOU! ðŸ¥‚";
            setTimeout(() => g.style.transform = 'scale(1) rotate(0deg)', 300);
        }
    </script>
</body>
</html>
